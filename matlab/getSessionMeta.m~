function sessionmeta = getSessionMeta(sessionpath, runlist)

    if isempty(runlist)
        runpaths = uipickfiles('FilterSpec', sessionpath);
        
        runlist = {};
        run_start_times = zeros(1,length(runpaths));
        for ridx = 1:length(runpaths)
            [fp, fn, ~] = fileparts(runpaths{ridx});
            runlist{end+1} = pts{end-2};
        end
    else
        runpaths = {};
        for ridx=1:length(runlist)
            tmp_runpaths = dir(fullfile(sessionpath, runlist{ridx}, 'analysis', 'meta', '*.mat'));
            runpaths{end+1} = fullfile(sessionpath, runlist{ridx}, 'analysis', 'meta', tmp_runpaths{1}.name);
        end
    end
    
    for ridx=1:length(runlist)
        runmeta = load(runpaths{ridx});
        runnames = fieldnames(runmeta.file(1).mw.pymat);
        trigger_start_times = zeros(1, length(runnames));
        for subidx=1:length(runnames)
            trigger_start_times(subidx) = runmeta.file(fidx).mw.pymat.(runnames{subidx}).MWtriggertimes(1);
        end
        run_start_times(ridx) = min(trigger_start_times);
    end
    
    [src, session, ~] = fileparts(sessionpath);
    spts = strsplit(session, '_'); % DATE_ANIMALID

    sessionmeta.runs = runlist;
    sessionmeta.time = min(run_start_times);
    sessionmeta.date = datestr(datenum(spts{1},'yyyyMMdd'),'yyyy-MM-dd');
    sessionmeta.animal = session_pts{2};
    
    % All runs in sesh should have the same scope info:
    scope = struct();
    if runmeta.tefo
        scope.scope = 'tefo';
        phase1time = '20170401';
        if datetime(spts{1}, 'InputFormat', 'yyyyMMdd') < datetime(phase1time, 'InputFormat', 'yyyyMMdd')
            scope.rev = 'rev1';
        else
            scope.rev = 'rev2';
        end
    else
        scope.scope = 'res';
        if datetime(spts{1}, 'InputFormat', 'yyyyMMdd') < datetime(phase1time, 'InputFormat', 'yyyyMMdd')
            scope.rev = 'rev1';
        else
            scope.rev = 'rev2';
        end
    end
        
    sessionmeta.scope = scope;
    
    

    

end